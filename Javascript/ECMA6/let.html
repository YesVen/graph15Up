<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>empty demo</title>
	</head>
	<body>
		<script>
			"use strict";
            var persons = [{
                            name : "Dnyanesh",
                            skills :"He is a web developement wizard",
                            lname : "barkade"
                        },
                        {
                            name : "Amol",
                            skills : "He is a Mech guy",
                            lname : "barkade"
                        },
                        {
                            name : "Niky",
                            skills : "He knows how to construct things",
                            lname : "barkade"
                        }];
            
            //Creating closure inside a loop has some problem associated with it
            function getPersonFullName(){}
            {
                    for(var i =0; i<persons.length; i++){
                    var person = persons[i];
                    person.getFullName = function(){
                        return "Full Name is : "+ person.name + " "+ person.lname+ " ...."+ person.skills;
                    }
                }
            }
            
            getPersonFullName();
            
            console.log(persons[0].getFullName());
            console.log(persons[1].getFullName());
            console.log(persons[2].getFullName());
            
            
//-----------------------------------------------------------------------------------------------------------------------------//
            
           /*
                As you can see creating scope inside a loop created a havoc.
                Now lets use "let" keyword introduced by ECMA6 on line 51
           */ 
            
            function getPersonFullNameUsingLetKeyword(){
                for(var i=0;i<persons.length; i++){
                    let person = persons[i];
                    person.getFullName = function(){
                        return "Full Name Using let keyword is : "+ person.name + " "+ person.lname+ " ...."+ person.skills;
                    }
                }
            }
            
            getPersonFullNameUsingLetKeyword();    
                
            console.log(persons[0].getFullName());
            console.log(persons[1].getFullName());
            console.log(persons[2].getFullName());
            
            
		</script>
        
        Guess What will be printe on console?
            --------------   Note we are using ECMA6 "let" keyword
        
	</body>
</html>